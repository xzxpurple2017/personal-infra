---
# Default configuration values
# Host-specific values (domain_name, ssl_email, ssh_public_keys) are loaded from host_vars.yml
# based on the system UUID detected at runtime

# Package list for installation
required_packages:
  - wget
  - curl
  - ufw
  - gnupg2
  - software-properties-common
  - apt-transport-https
  - ca-certificates
  - lsb-release
  - inetutils-traceroute

# UFW Configuration
ufw_policy: allow

# SSH Configuration
ssh_password_auth: "no"
# ssh_public_keys is loaded from host_vars.yml based on system UUID

ssh_ufw_rules:
  - name: OpenSSH

# Trojan Configuration
trojan_config:
  local_addr: "0.0.0.0"
  local_port: 443
  remote_addr: "127.0.0.1"
  remote_port: 80
  log_level: 1
  cert_path: "/etc/letsencrypt/live/{{ domain_name }}/fullchain.pem"
  key_path: "/etc/letsencrypt/live/{{ domain_name }}/privkey.pem"

trojan_required_packages:
  - nginx
  - certbot
  - python3-certbot-nginx
  - trojan

trojan_ufw_rules:
  - name: 'Nginx Full'